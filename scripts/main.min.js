/*! yammertime - v1.0.0 | Licensed under MIT */

this.Yt=this.Yt||{},this.Yt.Templates=this.Yt.Templates||{},this.Yt.Templates.message=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n    <div class="',d=c.unless.call(a,a&&a.replied_to_id,{hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+=" ",d=c["if"].call(a,a&&a.replied_to_id,{hash:{},inverse:y.noop,fn:y.program(4,h,b),data:b}),(d||0===d)&&(f+=d),f+='" id="',(e=c.id)?d=e.call(a,{hash:{},data:b}):(e=a&&a.id,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">\r\n        <div class="userimg"><img src="'+x((d=a&&a.mugshot_url,typeof d===w?d.apply(a):d))+'" height="96" width="96"/></div>\r\n\r\n        <div class="content">\r\n            <div class="sender">\r\n                <a ',(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'="https://www.yammer.com/users/',(e=c.username)?d=e.call(a,{hash:{},data:b}):(e=a&&a.username,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">\r\n                    ',(e=c.full_name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full_name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"\r\n                </a>\r\n                ",d=c["if"].call(a,a&&a.replied_to_id,{hash:{},inverse:y.noop,fn:y.program(6,i,b),data:b}),(d||0===d)&&(f+=d),f+='\r\n            </div>\r\n\r\n            <div class="message">\r\n                <span class="messagebody">',d=a&&a.body,d=null==d||d===!1?d:d.rich,d=typeof d===w?d.apply(a):d,(d||0===d)&&(f+=d),f+="\r\n                    ",d=c.each.call(a,a&&a.attachments,{hash:{},inverse:y.noop,fn:y.program(8,j,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n                </span>\r\n\r\n                ",d=c["if"].call(a,a&&a.attachments,{hash:{},inverse:y.noop,fn:y.program(13,m,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n            </div>\r\n\r\n            ",d=c["if"].call(a,a&&a.thread_id,{hash:{},inverse:y.noop,fn:y.program(22,s,b),data:b}),(d||0===d)&&(f+=d),f+='\r\n\r\n            <div class="metadata">\r\n                <span class="messageinfo">Posted <a ',(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" target="_blank" class="creationdate unformatted" data-time="',(e=c.created_at)?d=e.call(a,{hash:{},data:b}):(e=a&&a.created_at,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',(e=c.created_at)?d=e.call(a,{hash:{},data:b}):(e=a&&a.created_at,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</a> in <a ",(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'="',(e=c.group_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.group_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',(e=c.group_name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.group_name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</a>\r\n                </span>\r\n            </div>\r\n\r\n            ",d=c["if"].call(a,(d=a&&a.liked_by,null==d||d===!1?d:d.count),{hash:{},inverse:y.noop,fn:y.program(25,u,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n        </div>\r\n    </div>\r\n"}function g(){return"yam"}function h(){return"yam reply"}function i(a,b){var d,e,f="";return f+='\r\n                    <span class="in_reply_to"> in reply to ',(e=c.in_reply_to)?d=e.call(a,{hash:{},data:b}):(e=a&&a.in_reply_to,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</span>\r\n                "}function j(a,b){var d,e="";return e+="\r\n                        ",d=c["if"].call(a,a&&a.body,{hash:{},inverse:y.noop,fn:y.program(9,k,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                        ",d=c["if"].call(a,a&&a.praised_user_ids,{hash:{},inverse:y.noop,fn:y.program(11,l,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                    "}function k(a){var b,c="";return c+='\r\n                            <span class="repost">',b=a&&a.body,b=null==b||b===!1?b:b.plain,b=typeof b===w?b.apply(a):b,(b||0===b)&&(c+=b),c+="</span>\r\n                        "}function l(a,b){var d,e,f="";return f+='\r\n                            <div class="praised">\r\n                                <span>',(e=c.description)?d=e.call(a,{hash:{},data:b}):(e=a&&a.description,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'</span>\r\n                                <span class="praise ',(e=c.icon)?d=e.call(a,{hash:{},data:b}):(e=a&&a.icon,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"><em>',(e=c.comment)?d=e.call(a,{hash:{},data:b}):(e=a&&a.comment,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</em></span>\r\n                            </div>\r\n                        "}function m(a,b){var d,e="";return e+='\r\n                    <div class="attachments">\r\n                        ',d=c.each.call(a,a&&a.attachments,{hash:{},inverse:y.noop,fn:y.program(14,n,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                    </div>\r\n                "}function n(a,b){var d,e="";return e+="\r\n                            ",d=c["if"].call(a,a&&a.image,{hash:{},inverse:y.noop,fn:y.program(15,o,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n\r\n                            ",d=c["if"].call(a,a&&a.file,{hash:{},inverse:y.noop,fn:y.program(17,p,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n\r\n                            ",d=c["if"].call(a,a&&a.ymodule,{hash:{},inverse:y.noop,fn:y.program(19,q,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                        "}function o(a){var b,c="";return c+='\r\n                                <img class="attachment" src="'+x((b=a&&a.image,b=null==b||b===!1?b:b.url,typeof b===w?b.apply(a):b))+'">\r\n                            '}function p(a,b){var d,e,f="";return f+='\r\n                                <div class="document clr">\r\n                                    <span class="item"><a href="'+x((d=a&&a.file,d=null==d||d===!1?d:d.url,typeof d===w?d.apply(a):d))+'"><img src="',(e=c.large_icon_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.large_icon_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" /><span class="download">Download</span></a></span>\r\n                                    <span class="name">',(e=c.full_name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full_name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</span>\r\n                                </div>\r\n                            "}function q(a,b){var d,e,f="";return f+='\r\n                                <div class="document clr">\r\n                                    ',d=c["if"].call(a,a&&a.thumbnail_url,{hash:{},inverse:y.noop,fn:y.program(20,r,b),data:b}),(d||0===d)&&(f+=d),f+='\r\n                                    <span class="name clr"><a href="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'">',(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"</a></span>\r\n                                </div>\r\n                            "}function r(a,b){var d,e,f="";return f+='\r\n                                    <span class="item clr"><a href="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'"><img src="',(e=c.thumbnail_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail_url,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" width="96px" /></a></span>\r\n                                    '}function s(a,b){var d,e="";return e+="\r\n                ",d=c.unless.call(a,a&&a.replied_to_id,{hash:{},inverse:y.noop,fn:y.program(23,t,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n            "}function t(a,b){var d,e,f="";return f+="\r\n                    ",(e=c.update_count)?d=e.call(a,{hash:{},data:b}):(e=a&&a.update_count,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"\r\n                "}function u(a,b){var d,e,f="";return f+='\r\n                <div class="likedby">\r\n                    ',(e=c.like_count)?d=e.call(a,{hash:{},data:b}):(e=a&&a.like_count,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+" this post.\r\n                </div>\r\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var v,w="function",x=this.escapeExpression,y=this;return v=c.each.call(b,b,{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),v||0===v?v:""}),this.Yt.Templates.tile=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n    <div class="',d=c.unless.call(a,a&&a.replied_to_id,{hash:{},inverse:z.noop,fn:z.program(2,g,b),data:b}),(d||0===d)&&(f+=d),f+=" ",d=c["if"].call(a,a&&a.replied_to_id,{hash:{},inverse:z.noop,fn:z.program(4,h,b),data:b}),(d||0===d)&&(f+=d),f+='" id="',(e=c.id)?d=e.call(a,{hash:{},data:b}):(e=a&&a.id,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'">\r\n        <div class="meta clr">\r\n            <div class="userimg">\r\n                <img src="',(e=c.mugshot_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.mugshot_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'" height="96" width="96" />\r\n            </div>\r\n            <div class="metadata">\r\n                <a ',(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'="https://www.yammer.com/users/',(e=c.username)?d=e.call(a,{hash:{},data:b}):(e=a&&a.username,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'" class="author">\r\n                    ',(e=c.full_name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full_name,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"\r\n                </a>\r\n\r\n                ",d=c["if"].call(a,a&&a.replied_to_id,{hash:{},inverse:z.noop,fn:z.program(6,i,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n\r\n                ",d=c["if"].call(a,a&&a.group_url,{hash:{},inverse:z.noop,fn:z.program(8,j,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n\r\n                <a ",(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'" target="_blank" class="creationdate unformatted" data-time="',(e=c.created_at)?d=e.call(a,{hash:{},data:b}):(e=a&&a.created_at,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'">\r\n                    ',(e=c.created_at)?d=e.call(a,{hash:{},data:b}):(e=a&&a.created_at,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="content">\r\n            <div class="message">\r\n                <span class="messagebody">',d=a&&a.body,d=null==d||d===!1?d:d.rich,d=typeof d===x?d.apply(a):d,(d||0===d)&&(f+=d),f+="\r\n                    ",d=c.each.call(a,a&&a.attachments,{hash:{},inverse:z.noop,fn:z.program(10,k,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n                </span>\r\n\r\n                ",d=c["if"].call(a,a&&a.attachments,{hash:{},inverse:z.noop,fn:z.program(15,n,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n            </div>\r\n\r\n            ",d=c["if"].call(a,a&&a.thread_id,{hash:{},inverse:z.noop,fn:z.program(24,t,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n\r\n            ",d=c["if"].call(a,(d=a&&a.liked_by,null==d||d===!1?d:d.count),{hash:{},inverse:z.noop,fn:z.program(27,v,b),data:b}),(d||0===d)&&(f+=d),f+="\r\n        </div>\r\n    </div>\r\n"}function g(){return"yam"}function h(){return"yam reply"}function i(a,b){var d,e,f="";return f+='\r\n                    <span class="in_reply_to"> in reply to ',(e=c.in_reply_to)?d=e.call(a,{hash:{},data:b}):(e=a&&a.in_reply_to,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"</span>\r\n                "}function j(a,b){var d,e,f="";return f+='\r\n                    <span class="messageinfo">Posted in <a ',(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'="',(e=c.group_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.group_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'">'+y((d=a&&a.group_name,typeof d===x?d.apply(a):d))+"</a></span>\r\n                "}function k(a,b){var d,e="";return e+="\r\n                        ",d=c["if"].call(a,a&&a.body,{hash:{},inverse:z.noop,fn:z.program(11,l,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                        ",d=c["if"].call(a,a&&a.praised_user_ids,{hash:{},inverse:z.noop,fn:z.program(13,m,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                    "}function l(a){var b,c="";return c+='\r\n                            <span class="repost">',b=a&&a.body,b=null==b||b===!1?b:b.plain,b=typeof b===x?b.apply(a):b,(b||0===b)&&(c+=b),c+="</span>\r\n                        "}function m(a,b){var d,e,f="";return f+='\r\n                            <div class="praised">\r\n                                <span>',(e=c.description)?d=e.call(a,{hash:{},data:b}):(e=a&&a.description,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'</span>\r\n                                <span class="praise ',(e=c.icon)?d=e.call(a,{hash:{},data:b}):(e=a&&a.icon,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'"><em>',(e=c.comment)?d=e.call(a,{hash:{},data:b}):(e=a&&a.comment,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"</em></span>\r\n                            </div>\r\n                        "}function n(a,b){var d,e="";return e+='\r\n                    <div class="attachments">\r\n                        ',d=c.each.call(a,a&&a.attachments,{hash:{},inverse:z.noop,fn:z.program(16,o,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                    </div>\r\n                "}function o(a,b){var d,e="";return e+="\r\n                            ",d=c["if"].call(a,a&&a.image,{hash:{},inverse:z.noop,fn:z.program(17,p,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n\r\n                            ",d=c["if"].call(a,a&&a.file,{hash:{},inverse:z.noop,fn:z.program(19,q,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n\r\n                            ",d=c["if"].call(a,a&&a.ymodule,{hash:{},inverse:z.noop,fn:z.program(21,r,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                        "}function p(a){var b,c="";return c+='\r\n                                <img class="attachment" src="'+y((b=a&&a.image,b=null==b||b===!1?b:b.url,typeof b===x?b.apply(a):b))+'">\r\n                            '}function q(a,b){var d,e,f="";return f+='\r\n                                <div class="document clr">\r\n                                    <span class="item"><a ',(e=c.link_helper)?d=e.call(a,{hash:{},data:b}):(e=a&&a.link_helper,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'="'+y((d=a&&a.file,d=null==d||d===!1?d:d.url,typeof d===x?d.apply(a):d))+'"><img src="',(e=c.large_icon_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.large_icon_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'" /><span class="download">Download</span></a></span>\r\n                                    <span class="name">',(e=c.full_name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.full_name,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"</span>\r\n                                </div>\r\n                            "}function r(a,b){var d,e,f="";return f+='\r\n                                <div class="document clr">\r\n                                    ',d=c["if"].call(a,a&&a.thumbnail_url,{hash:{},inverse:z.noop,fn:z.program(22,s,b),data:b}),(d||0===d)&&(f+=d),f+='\r\n                                    <span class="name clr"><a href="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'">',(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"</a></span>\r\n                                </div>\r\n                            "}function s(a,b){var d,e,f="";return f+='\r\n                                    <span class="item clr"><a href="',(e=c.web_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.web_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'"><img src="',(e=c.thumbnail_url)?d=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail_url,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'" width="96px" /></a></span>\r\n                                    '}function t(a,b){var d,e="";return e+="\r\n                ",d=c.unless.call(a,a&&a.replied_to_id,{hash:{},inverse:z.noop,fn:z.program(25,u,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n            "}function u(a,b){var d,e,f="";return f+="\r\n                    ",(e=c.update_count)?d=e.call(a,{hash:{},data:b}):(e=a&&a.update_count,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+"\r\n                "}function v(a,b){var d,e,f="";return f+='\r\n                <div class="likedby">\r\n                    ',(e=c.like_count)?d=e.call(a,{hash:{},data:b}):(e=a&&a.like_count,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+" this post.\r\n                </div>\r\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var w,x="function",y=this.escapeExpression,z=this;return w=c.each.call(b,b,{hash:{},inverse:z.noop,fn:z.program(1,f,e),data:e}),w||0===w?w:""});
/*! constants.js | Yammertime */
var Yt=Yt||{};Yt.Constants=Yt.Constants||{},function(a){a.classes={hidden:"hidden",largeText:" large text ",largeTile:"large",mediumText:" medium text ",mediumTile:"medium",noScroll:"no-scroll",noScrollbar:"no-scrollbar",pushSettings:"push_3",replies:"replies",replyNumber:"reply-number",smallText:" small text ",smallTile:"small",tile:"tile",tiled_view:"tiled-view",viewReplies:"view-replies",xlargeText:" xlarge text "},a.defaultConfig={accessTokens:{},animationDelay:1e4,cookie:"networkPermalink",count:3e3,idleWait:5,lastMessageId:0,lastMessageTime:"",loadDelay:15e3,messageLimit:20,oldLastMessageId:0,showDelay:3e3,textSize:"medium",updateCount:0},a.settingKeys={appendPostReplies:"appendPostReplies",bgColor:"bgColor",fullName:"fullName",groupId:"groupId",logoUrl:"logoUrl",modalPostAppend:"modalPostAppend",networkPermalink:"networkPermalink",networkId:"networkId",noDefaults:"noDefaults",olderReplies:"olderReplies",postId:"postId",postRotation:"postRotation",showSticky:"showSticky",sticky:"sticky",stickyDate:"stickyDate",textSize:"textSize",tiled:"tiled",topicId:"topicId",topicName:"topicName",truncate:"truncate",yammerLinks:"yammerLinks"}}(Yt.Constants);
/*! utilities.js | Yammertime */
var Yt=Yt||{};Yt.Util=Yt.Util||{},function(a,b){var c=Yt.Constants.classes;a.addTrim=function(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},a.addOptions=function(a,c,d,e){a.empty(),b.each(c,function(b,c){a.get(0).options.add(new Option(c[d],c[e]))})},a.isInt=function(a){var b=parseInt(a);return isNaN(b)?!1:a==b&&a.toString()==b.toString()},a.isUrl=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},a.getElements=function(){return{body:b("body"),closeButton:b(".close-button"),container:b(".container"),cancelButton:b('.settings button[name="cancel"]'),feed:b(".feed"),header:b(".header"),headerLogo:b(".header-logo"),landing:b(".landing"),logout:b("#logout"),mainContent:b(".main"),overlay:b(".overlay"),overlayExpanded:b(".expanded.modal"),postExpanded:b(".post-expanded"),repliesExpanded:b(".replies-expanded"),settings:b("#settings"),settingsDialog:b(".settings"),settingsForm:b(".settings form"),settingsInputs:b('.settings form :input[name!="color"][name!="logoUrl"][name!="text-size"][name!="post-rotation"]'),spinner:b("#spinner"),sticky:b(".sticky"),tile:b(".tile"),viewReplies:b(".view-replies"),color:b('.settings input[name="color"]'),group:b('.settings select[name="group"]'),logoUrl:b('.settings input[name="logoUrl"]'),network:b('.settings select[name="network"]'),postRotation:b('.settings input[name="post-rotation"]'),remove:b('.settings input[name="remove"]'),showSticky:b('.settings input[name="show-sticky"]'),submitButton:b('.settings button[name="submit"]'),textSize:b('.settings select[name="text-size"]'),tiled:b('.settings input[name="tiled"]'),topic:b('.settings input[name="topic"]'),truncate:b('.settings input[name="truncate"]'),yammerLinks:b('.settings input[name="yammer-links"]')}},a.toggleScroll=function(){b("body").toggleClass(c.noScroll).toggleClass(c.noScrollbar)},a.requestErrorHandler=function(a){console&&console.log&&console.log("An error has occured:",a)},a.addTrim()}(Yt.Util,jQuery,window,document);
/*! feed.js | Yammertime */
var Yt=Yt||{};Yt.Feed=Yt.Feed||{},function(a){var b=Yt.Util;a.getOrCreateTopicId=function(a,b,c){yam.request({url:"/api/v1/topics",type:"POST",data:"name="+a,success:b,error:c})},a.loadGroups=function(a){yam.request({url:"/api/v1/groups?mine=1",type:"GET",success:a,error:b.requestErrorHandler})},a.loadMessages=function(a,c){yam.request({url:a,type:"GET",success:c,error:b.requestErrorHandler})},a.loadNetworks=function(a){yam.request({url:"/api/v1/networks/current",type:"GET",success:a,error:b.requestErrorHandler})},a.loadTokens=function(a){yam.request({url:"/api/v1/oauth/tokens",type:"GET",success:function(b){$.each(b,function(b,c){a.accessTokens[c.network_permalink]||(a.accessTokens[c.network_permalink]=c)})},error:b.requestErrorHandler})}}(Yt.Feed,window,document,void 0);
/*! settings.js | Yammertime */
var Yt=Yt||{};Yt.Settings=Yt.Settings||{},function(a){function b(a){a.preventDefault(),p.toggleScroll(),q.settingsDialog.toggleClass(r.hidden),q.overlay.toggleClass(r.hidden)}function c(){var a="disabled";"-1"!==q.group.val()?q.topic.attr(a,a):q.topic.removeAttr(a)}function d(){a.oauth&&a.oauth.setAuthToken&&oauth.setAuthToken(s.accessTokens[q.network.val()]),o.loadGroups(a.addGroups)}function e(){q.settingsForm.data("changed","true")}function f(a){p.requestErrorHandler(a),retrieveFeed()}function g(){var b=a.get(t.bgColor);b&&q.body.css("background",b)}function h(){var b=a.get(t.logoUrl),c="src";p.isUrl(b)?q.headerLogo.attr(c,b):q.headerLogo.attr(c,"images/yammertime.png")}function i(){var b=a.get(t.textSize);"small"===b?q.feed.removeClass(r.mediumText+r.largeText+r.xlargeText).addClass(r.smallText):"medium"===b?q.feed.removeClass(r.smallText+r.largeText+r.xlargeText).addClass(r.mediumText):"large"===b?q.feed.removeClass(r.smallText+r.medium+r.xlarge).addClass(r.large):"xlarge"===b&&q.feed.removeClass(r.smallText+r.mediumText+r.largeText).addClass(r.xlargeText),a.get(t.tiled)&&q.feed.trigger("tilePosts")}function j(){q.settingsForm.data("changed","false");var b=a.get(t.groupId);q.network.val(a.get(t.networkId)),q.logoUrl.val(a.get(t.logoUrl)),q.color.val(a.get(t.bgColor)),q.topic.val(a.get(t.topicName)),q.textSize.val(a.get(t.textSize)||s.textSize),b&&p.isInt(b)&&q.group.val(b);var d={remove:"remove",postRotation:"postRotation",showSticky:"showSticky",truncate:"truncate",tiled:"tiled",yammerLinks:"yammerLinks"};l(d),c(),p.toggleScroll(),q.settingsDialog.toggleClass(r.hidden),q.overlay.toggleClass(r.hidden)}function k(b){b.preventDefault(),q.settingsDialog.toggleClass(r.hidden),q.overlay.toggleClass(r.hidden);var c={bgColor:q.color.val(),groupId:q.group.val(),logoUrl:q.logoUrl.val(),networkId:q.network.val(),noDefaults:!0,postRotation:q.postRotation.is(":checked"),remove:q.remove.is(":checked"),showSticky:q.showSticky.is(":checked"),textSize:q.textSize.val(),truncate:q.truncate.is(":checked"),tiled:q.tiled.is(":checked"),yammerLinks:q.yammerLinks.is(":checked")};a.set(c),a.initStyleSettings(),p.toggleScroll(),q.topic.val()?"true"===q.settingsForm.data("changed")&&o.getOrCreateTopicId(q.topic.val(),m,f):(a.set(t.topicId,""),a.set(t.topicName,""),"true"===q.settingsForm.data("changed")&&q.feed.trigger("retrieveFeed"))}function l(b,c){var d="undefined"!=typeof arguments[1]?"":arguments[0];if(d)for(var e in d)d.hasOwnProperty(e)&&a.get(e)&&q[d[e]].attr("checked","true");else a.get(b)&&q[c].attr("checked","true");a.get(t.tiled)?q.postRotation.attr("disabled","disabled"):q.postRotation.removeAttr("disabled")}function m(b){var c={topicName:b.name,topicId:b.id};a.set(c),q.feed.trigger("retrieveFeed")}var n=Yt.Constants,o=Yt.Feed,p=Yt.Util,q=p.getElements(),r=n.classes,s=n.defaultConfig,t=n.settingKeys;a.oauth={},a.addNetworks=function(a){p.addOptions(q.network,a,"name","permalink")},a.addGroups=function(a){p.addOptions(q.group,a,"full_name","id"),q.group.prepend('<option value="-1">All groups</option>')},a.bindEvents=function(){q.settings.on("click",j),q.cancelButton.on("click",b),q.submitButton.on("click",k),q.network.on("change",d),q.group.on("change",c),q.settingsInputs.on("change",e)},a.get=function(a){return"true"===localStorage[a]?!0:"false"===localStorage[a]?!1:localStorage[a]},a.set=function(a,b){var c="undefined"!=typeof arguments[1]?"":arguments[0];if(c)for(var d in c)c.hasOwnProperty(d)&&(localStorage[d]=c[d]);else localStorage[a]=b},a.initStyleSettings=function(){g(),h(),i()}}(Yt.Settings);
/*! template_helpers.js | Yammertime */
!function(a){var b=Yt.Constants.classes,c=Yt.Constants.settingKeys,d=Yt.Settings;a.registerHelper("like_count",function(){if(this.liked_by.count>1){for(var b="",c=this.liked_by.names.length,d=0;c>d;d++)c-1>d?(b+=this.liked_by.names[d].full_name,b+=d===c-2&&this.liked_by.count<4?" ":", "):b+=this.liked_by.count>3?this.liked_by.names[d].full_name+" ":"and "+this.liked_by.names[d].full_name;return this.liked_by.count>3&&(b+="and "+(this.liked_by.count-3).toString(),b+=this.liked_by.count-3===1?" other":" others"),new a.SafeString(b+" like")}return new a.SafeString(this.liked_by.names[0].full_name+" likes")}),a.registerHelper("link_helper",function(){var b=d.get(c.yammerLinks);return new a.SafeString(b?"id":"href")}),a.registerHelper("update_count",function(){var c=parseInt(this.thread_stats.updates)-1,d='<div class="'+b.replies+'">';return c>1?new a.SafeString(d+'<a href="#'+this.thread_id+'" class="'+b.viewReplies+'"><span class="'+b.replyNumber+'">'+c+"</span> <span>replies</span></a></div>"):1===c?new a.SafeString(d+'<a href="#'+this.thread_id+'" class="'+b.viewReplies+'"><span class="'+b.replyNumber+'">1</span> <span>reply</span></a></div>'):void 0})}(Handlebars);
/*! main.js | Yammertime */
!function(a,b,c,d,e){function f(){I.bindEvents(),L.closeButton.on("click",g),L.container.on("click","a.view-replies",y),L.container.on("click","a.older-replies",t),L.logout.on("click",n),L.feed.on("click","."+M.tile,h),L.feed.on("tilePosts",A),L.feed.on("retrieveFeed",u),a(e).on("keyup",l),k()}function g(){L.settingsDialog.addClass(M.hidden),L.overlayExpanded.addClass(M.hidden),L.overlay.addClass(M.hidden),G.toggleScroll(),L.repliesExpanded.html(""),L.repliesExpanded.html(L.spinner.show())}function h(){var b=a(this).attr("id");L.overlayExpanded.toggleClass(M.hidden),L.overlay.toggleClass(M.hidden),L.postExpanded.html(""),L.postExpanded.attr("id",b).html(a(this).html()),x(b),G.toggleScroll()}function i(){a(".creationdate").each(function(){var c=a(this).data("time"),d=b(c).fromNow(),e=" "+d;a(this).text(e)})}function j(){I.get(O.tiled)?A():(L.container.removeClass(M.tiled_view),L.settingsDialog.removeClass(M.pushSettings))}function k(){function b(){c=0}{var c=0,d=a(this);setInterval(function(){c+=1,c===N.idleWait&&(L.body.animate({scrollTop:0}),L.overlayExpanded.hasClass(M.hidden)||g())},6e4)}d.mousemove(b),d.keypress(b),d.scroll(b)}function l(a){27!==a.which||L.overlayExpanded.hasClass(M.hidden)||g()}function m(a){L.landing.addClass(M.hidden),L.header.removeClass(M.hidden),f(),I.set(O.networkPermalink,a.network.permalink);var b=I.get(O.networkPermalink);if(I.set(O.networkId,a.network.name),H.loadTokens(N),K=yam.request.getAuthenticator(),K.setAuthToken(N.accessTokens[b]),H.loadNetworks(I.addNetworks),H.loadGroups(I.addGroups),!I.get(O.noDefaults)){var c={bgColor:"#455560",groupId:"-1",olderReplies:"false",postRotation:"false",remove:"false",showSticky:"false",stickyDate:0,textSize:"small",truncate:"false",tiled:"true",yammerLinks:"false"};I.set(c)}I.initStyleSettings(),u(),setInterval(B,N.showDelay),setInterval(w,N.animationDelay)}function n(){yam.logout(function(){location.reload()})}function o(a){var c=[];if(I.get(O.showSticky)){for(var d=0;d<a.length;d++)"announcement"===a[d].message_type&&(c.push(a[d]),a.splice(d,1),d--);c.length>0?(stickyDate=b(c[0].created_at).format("X"),stickyDate>=I.get(O.stickyDate)&&(c='<p datetime="'+c[0].created_at+'">'+c[0].body.plain+"</p>",I.set(O.sticky,c),I.set(O.stickyDate,stickyDate),r())):I.get(O.sticky)&&r()}else I.set(O.stickyDate,0),L.sticky.addClass(M.hidden);return a}function p(a){var b={},c={},d=I.get(O.yammerLinks);for(var e in a.references)if(a.references.hasOwnProperty(e)){var f=a.references[e];"user"===f.type?(b[f.id]=f,b[f.name]=f):"message"===f.type?c[f.id]=f:"group"===f.type?b[f.id]=f:"thread"===f.type&&(b[f.id]=f)}for(e in a.messages)if(a.messages.hasOwnProperty(e)){var g=a.messages[e];if(g.sender_id&&(g.mugshot_url=b[g.sender_id].mugshot_url.replace("48x48","96x96"),g.full_name=b[g.sender_id].full_name,g.username=b[g.sender_id].name),g.thread_id&&(g.thread_stats=b[g.thread_id].stats),"-1"===I.get(O.groupId)&&g.group_id&&(g.group_name=b[g.group_id].full_name,g.group_url=b[g.group_id].web_url),0===g.body.rich.indexOf("(See attached"))for(var h in g.attachments)if(g.attachments.hasOwnProperty(h)){var i=g.attachments[h];i.ymodule&&(g.body.rich=i.name)}g.body.rich=g.body.rich.replace(/br><br/g,"br"),d&&(g.body.rich=g.body.rich.replace("href='https://www.yammer.com","'"),g.body.rich=g.body.rich.replace('href="https://www.yammer.com','"')),g.replied_to_id&&(c[g.replied_to_id]?c[g.replied_to_id].sender_id&&(in_reply_to=b[c[g.replied_to_id].sender_id],g.in_reply_to=in_reply_to.full_name):g.replied_to_id=null)}return a.messages}function q(a){var b=p(a),c=b.length;c>0&&(b=o(b),b=z(b),s(b),i(),j(b))}function r(){b().format("X")-I.get(O.stickyDate)<604800?(L.sticky.html(sticky),L.sticky.removeClass(M.hidden)):(I.set(O.sticky,""),I.set(O.stickyDate,""),L.sticky.addClass(M.hidden),L.sticky.html(""))}function s(b){var c,d,e,f,g,h=I.get(O.postId)||"",i=b.length,j=I.get(O.olderReplies);if(e=i>0?b[0].thread_stats.updates:!1,f=I.get(O.tiled)?J.tile:J.message,g=f(b),g=Array.prototype.slice.call(a(g)),g=g.reverse(),h.length>0){if(d=I.get(O.modalPostAppend)?L.repliesExpanded:a("#"+h),I.get(O.tiled)){var k="",l=function(){var a={thread_id:h,thread_stats:{updates:e}};return D(a),"<h2>"+k+"</h2>"};i>0&&i<=N.messageLimit?(c=1===i?" reply":" replies",k='<span class="num">'+i.toString()+"</span>"+c):k=i===N.messageLimit&&i!==e-1?"Latest replies":"No replies yet :(",d.append(l)}if(a(g).appendTo(d),i===N.messageLimit&&i!==e-1){e=e-N.messageLimit>N.messageLimit?N.messageLimit:e-N.messageLimit-1,c=1===e?" message":" messages";var m='<a href="#" id="'+b[i-1].id+'" class="older-replies">View <span class="num">'+e+'</span> older <span class="sores">'+c+"</span></a>";a(m).insertAfter(d.find("h2"))}L.spinner.hide(),C(i,d),I.set(O.appendPostReplies,"false"),I.set(O.modalPostAppend,"false"),I.set(O.postId,"")}else if(j){var n=parseInt(L.repliesExpanded.find("h2").find(".num").text());a(g).insertAfter(a(".older-replies")),N.updateCount<N.messageLimit&&(N.updateCount=N.messageLimit),e-N.updateCount-1<=N.messageLimit?(a(".older-replies").remove(),N.updateCount=N.messageLimit):(a(".older-replies").attr("id",b[i-1].id),N.updateCount+=i,e-N.updateCount===2&&(a(".older-replies").find(".sores").text("message"),a(".older-replies").find(".num").text("1"))),L.repliesExpanded.find("h2").find(".num").text(n+i),I.set(O.olderReplies,"false")}else g=g.reverse(),a(g).prependTo(L.feed),N.oldLastMessageId=N.lastMessageId,C(i)}function t(b){b.preventDefault();var c=a(this).attr("id"),d=a(this).parents("section").find(".post-expanded").attr("id");I.set(O.olderReplies,"true"),H.loadMessages("/api/v1/messages/in_thread/"+d+"?older_than="+c+"&limit="+N.messageLimit,q)}function u(){N.lastMessageId=0,N.oldLastMessageId=0,L.feed.html(""),L.sticky.html("");var a=I.get(O.groupId),b=I.get(O.topicId);a&&G.isInt(a)&&-1!=a?H.loadMessages("/api/v1/messages/in_group/"+a+"?threaded=true&limit="+N.messageLimit,q):b&&G.isInt(b)?H.loadMessages("/api/v1/messages/about_topic/"+b+"?threaded=true&limit="+N.messageLimit,q):H.loadMessages("/api/v1/messages?threaded=true&limit="+N.messageLimit,q)}function v(){a(".feed .yam:last").animate({opacity:"0"},500,function(){var b=a(this);b.prependTo(L.feed).css({opacity:"1",display:"none"}).slideDown("slow")})}function w(){!I.get(O.tiled)&&I.get(O.postRotation)&&v()}function x(a){I.set(O.postId,a),I.set(O.appendPostReplies,"true"),I.set(O.modalPostAppend,"true"),H.loadMessages("/api/v1/messages/in_thread/"+a+"?limit="+N.messageLimit,q)}function y(b){b&&b.preventDefault();var c=a(this);if(c.hasClass(M.viewReplies)&&0===c.parents(".yam").find(".reply").length){var d=c[0].hash.slice(1),e=c.parents(".yam")[0].id;I.set(O.appendPostReplies,"true"),I.set(O.postId,e),H.loadMessages("/api/v1/messages/in_thread/"+d,q)}else c.parents(".yam").find(".reply").toggle(),c.parents(".yam").find(".reply").remove()}function z(b){for(var c=0;c<b.length;c++)if(b[c].id>N.lastMessageId)N.lastMessageId=b[c].id;else if(0!==N.oldLastMessageId&&"true"!==I.get(O.appendPostReplies)){D(b[c]);var d=b[c].id,e=a("#"+d);e.length>0&&(b.splice(c,1),c--)}return b}function A(){var b=a(".feed > div");b.addClass(M.tile),b.each(function(){var b=a(this);if(b.find(".messagebody").first()){var c=a(b.find(".messagebody").first()[0]).text().replace("(less)","").trim();b.addClass(c.length>750?M.largeTile:c.length>500?M.mediumTile:M.smallTile)}}),L.container.addClass(M.tiled_view),a(".feed .yam").length&&(L.feed.masonry("reloadItems"),L.feed.masonry({itemSelector:".tile",gutter:20,columnWidth:355}))}function B(){if(i(),N.count%N.loadDelay===0){var a=I.get(O.groupId),b=I.get(O.topicId);a&&G.isInt(a)&&"-1"!==a?H.loadMessages("/api/v1/messages/in_group/"+a+"?threaded=true&newer_than="+N.lastMessageId,q):b&&G.isInt(b)?H.loadMessages("/api/v1/messages/about_topic/"+b+"?threaded=true&newer_than="+N.lastMessageId,q):H.loadMessages("/api/v1/messages?threaded=true&newer_than="+N.lastMessageId,q)}N.count%N.showDelay===0&&(N.count=N.count+N.showDelay)}function C(b,c){if(I.get(O.truncate)&&!I.get(O.tiled))if(c){var d;d=2===c.find(".message").first().find("span.messagebody").length?2:1;for(var e=d;b+1>e;e++)a(c.find("span.messagebody")[e]).truncate({max_length:275})}else for(var f=L.feed.find("span.messagebody"),g=0;b>g;g++)a(f[g]).truncate({max_length:275})}function D(b){var c=a("#"+b.thread_id.toString()),d=c.find("."+M.replyNumber);if(d.length>0)d.text((b.thread_stats.updates-1).toString()),b.thread_stats.updates>2?d.next().text("replies"):2===b.thread_stats.updates?d.next().text("reply"):d.parents(".replies").remove();else if(2===b.thread_stats.updates){var e='<div class="'+M.replies+'"><a href="#'+b.thread_id+'" class="'+M.viewReplies+'"><span class="'+M.replyNumber+'">1</span> <span>reply</span></a></div>',f=c.find(".message");a(e).insertAfter(f)}}function E(){yam.getLoginStatus(function(a){a.authResponse?m(a):(L.landing.removeClass(M.hidden),yam.connect.loginButton("#yammer-login"))})}var F=Yt.Constants,G=Yt.Util,H=Yt.Feed,I=Yt.Settings,J=Yt.Templates,K=I.oauth,L=G.getElements(),M=F.classes,N=F.defaultConfig,O=F.settingKeys;E()}(jQuery,moment,Handlebars,window,document);